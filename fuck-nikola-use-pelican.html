<!DOCTYPE html>
<html lang="zh">
<head>
      <meta charset="utf-8" />
    <title>曹逸君 Blog &middot; 从nikola换成pelican</title>
    <link rel="shortcut icon" href="http://caoyijun.com/favicon.ico" />
    <link rel="stylesheet" href="http://caoyijun.com/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="http://caoyijun.com/theme/css/pygments.css" type="text/css" />



</head>
<body>
    <header>
        <nav>
            <li><a href="http://caoyijun.com">Home</a></li>
            <li><a href="http://caoyijun.com/archives.html">Archives</a></li>
        </nav>
        <div class="header_box">
            <h1><a href="http://caoyijun.com">曹逸君 Blog</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">
            <h4 class="date">11月 10, 2013</h4>
            <article class="post">
<h2 class="title">
                    <a href="http://caoyijun.com/fuck-nikola-use-pelican.html" rel="bookmark" title="Permanent Link to &quot;从nikola换成pelican&quot;">从nikola换成pelican</a>
                </h2>

                <p>有个博客还是很重要的。
nikola默认用reStructuredText做轻量标记语言。
不知道是不是markdown先入为主。觉得RST很不好用。

nikola v6.2.1 的base template文件：<code>/usr/local/lib/python2.7/dist-packages/nikola/data/themes/base/templates/disqus_helper.tmpl</code></p>
<p>存在bug。有一句：</p>
<p><code>dsq.src = \'http://\' + disqus_shortname + \'.disqus.com/embed.js\';</code></p>
<p>不知道谁很想当然得写了个<code>http://</code>进去。https的网站，比如说我，就郁闷了。</p>
<p>在github上看下发现bug四天前已经被修复了。   =。= 下东西还是直接从github上下最新得比较舒服。</p>
<p>20140419 update:</p>
<p>更换为pelican。Nikola各种恼人的小bug。egg文件权限去掉了read搞得其他库都出问题。所有文章全部全文列在首页。(默认设置)。今天又发现galleries里图片文件名为中文编码出问题。虽然不是nikola的问题。而是doit的。换python3环境也各种问题。来老扔warning you must install markdown blah blah。。不爽。目录结构也很乱。相比pelican的整体结构就很简洁。quickstart问题也很亲切。是否通过ftp或ssh或Dropbox S3部署之类。</p>
<div class="highlight"><pre>Welcome to pelican-quickstart v3.3.0.

This script will help you create a new Pelican-based website.

Please answer the following questions so this script can generate the files
needed by Pelican.


&gt; Where do you want to create your new web site? [.] 
&gt; What will be the title of this web site? 曹逸君 Blog
&gt; Who will be the author of this web site? 曹逸君     
&gt; What will be the default language of this web site? [en] zh
&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n) n
&gt; Do you want to enable article pagination? (Y/n) 
&gt; How many articles per page do you want? [10] 7
&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) 
&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n) 
&gt; Do you want to upload your website using FTP? (y/N) 
&gt; Do you want to upload your website using SSH? (y/N) 
&gt; Do you want to upload your website using Dropbox? (y/N) 
&gt; Do you want to upload your website using S3? (y/N) 
&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N)
</pre></div>


<p>略微蛋疼的是之前markdown头部是这样标注标题的：</p>
<div class="highlight"><pre>&lt;!--
.. link:
.. description:
.. tags:
.. date: 2013/11/19 22:47:29
.. title: 同济电费过低提醒
.. slug: tongji-university-electrictiy-balance-low-warner
--&gt;
</pre></div>


<p>而pelican认的格式是这种：</p>
<div class="highlight"><pre><span class="n">link</span><span class="o">:</span>
<span class="n">description</span><span class="o">:</span>
<span class="n">tags</span><span class="o">:</span>
<span class="n">date</span><span class="o">:</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">19</span> <span class="mi">22</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span><span class="mi">29</span>
<span class="n">title</span><span class="o">:</span> <span class="err">同济电费过低提醒</span>
<span class="n">slug</span><span class="o">:</span> <span class="n">tongji</span><span class="o">-</span><span class="n">university</span><span class="o">-</span><span class="n">electrictiy</span><span class="o">-</span><span class="n">balance</span><span class="o">-</span><span class="n">low</span><span class="o">-</span><span class="n">warner</span>
</pre></div>


<p>注意那个日期格式的不同。。没错。就是这么蛋疼。Pelican能做得兼容容错性更好就更好了。</p>
<p>最坑的是markdown的table居然不给我生成出来。Pelican就啥事没有。明明都用的markdown的库。。搞不懂。</p>

                <div class="clear"></div>
                <div class="info">
                    <a href="http://caoyijun.com/fuck-nikola-use-pelican.html">posted at 15:01</a>
                </div>

            </article>
            <div class="clear"></div>
            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-33228021-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>